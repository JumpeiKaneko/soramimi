/* Elegant, minimal UI for Soramimi
   - Uses CSS variables for easy theming
   - Responsive layout with a focused control panel
   - Subtle motion for interactions and recording indicator
*/
:root{
  /* Strict monochrome (black background, light text) */
  --bg: #0b0b0b; /* page background */
  --card: transparent;
  --text: #f7f7f7; /* primary text (light)
  */
  --muted: #bfbfbf; /* subdued gray */
  --shadow: 0 12px 34px rgba(0,0,0,0.6);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  /* Prefer 游明朝 (Yu Mincho) and fallbacks for refined Japanese serif look */
  font-family: "Yu Mincho", "游明朝", "Hiragino Mincho ProN", "ヒラギノ明朝 ProN", serif;
  background: var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
}
.container{
  max-width:900px;
  margin:0 auto;
  background:var(--card);
  border-radius:14px;
  padding:28px 40px;
  box-shadow:none;
  border: none;
}
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.title{
  margin:0;
  font-size:1.4rem;
  letter-spacing: -0.02em;
}
.controls-row{
  margin-top:18px;
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:center;
  flex-wrap:wrap;
}
.btn{
  appearance:none;
  border:0;
  background:transparent; /* minimal text-focused */
  padding:8px 12px;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
  transition:color .12s ease, transform .12s ease, box-shadow .12s ease;
}
.btn:active{transform:translateY(1px)}
.btn.primary{ color:var(--text); }
.btn.critical{ color:var(--text); }
.btn.ghost{ color:var(--muted); }

/* Focus visible for accessibility */
.btn:focus{
  outline: none;
  box-shadow: 0 0 0 4px rgba(255,255,255,0.06);
  transform: translateY(-1px);
}

.controls-row + div{opacity:0.9}
.control{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:8px 12px;
  border-radius:10px;
  background: transparent;
  border: none;
}
.control label{font-size:0.9rem; color:var(--muted)}
.slider{width:160px}
.number-input{width:80px; padding:6px 8px; border-radius:8px; border:1px solid rgba(16,24,40,0.06);}
.status-row{display:flex; gap:18px; align-items:center; justify-content:space-between; margin-top:18px; flex-wrap:wrap}
.status{font-weight:600; color:var(--muted)}
.soramimi-status{font-weight:700; color:var(--text);}
.archive-size{color:var(--muted)}
.meta{
  display:flex; gap:12px; align-items:center;
}
.sample-rate{color:var(--muted)}
.recording{
  display:inline-flex; align-items:center; gap:8px; color:var(--muted);
}
.recording-dot{
  width:12px; height:12px; border-radius:50%; background:rgba(255,255,255,0.12); display:inline-block; transition:transform .18s ease, box-shadow .18s ease, background .12s ease;
}
.recording-dot.is-recording{
  background:var(--text);
  box-shadow:0 0 0 6px rgba(255,255,255,0.06);
  animation: pulse 1.2s infinite;
}
/* Stronger pulse when a '聞き間違い' (soramimi) happens */
.recording-dot.sora{
  background:var(--text);
  box-shadow:0 0 0 10px rgba(255,255,255,0.12), 0 0 30px rgba(255,255,255,0.06);
  transform: scale(1.06);
  animation: soraPulse 700ms ease-out 0s 2;
}
@keyframes soraPulse{
  0%{ transform: scale(1); box-shadow:0 0 0 0 rgba(255,255,255,0) }
  35%{ transform: scale(1.18); box-shadow:0 0 24px 12px rgba(255,255,255,0.12) }
  100%{ transform: scale(1); box-shadow:0 0 0 0 rgba(255,255,255,0) }
}

@media (prefers-reduced-motion: reduce){
  .recording-dot.sora{ animation: none !important; transform: none !important }
}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.18)}100%{transform:scale(1)}}
.log{
  margin-top:18px; border-radius:10px; background:transparent; padding:12px; border:none; max-height:220px; overflow:auto; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, monospace; font-size:0.88rem; color:var(--muted);
}
.log div{padding:6px 0; border-bottom:1px dashed rgba(16,24,40,0.03)}
.footer{margin-top:18px; font-size:0.85rem; color:var(--muted); text-align:center}

@media (max-width:640px){
  .controls-row{gap:8px}
  .slider{width:120px}
  .control{padding:6px 8px}
}

/* Hero / Intro styles to make it more like a portfolio site */
.hero{
  display:flex;
  flex-direction:column;
  gap:6px;
  align-items:center;
  padding-bottom:6px;
}

/* subtle backdrop ornament */
.container::before{
  content:'';
  position:absolute;
  inset:0;
  pointer-events:none;
  border-radius:14px;
}

/* reduce motion preference */
@media (prefers-reduced-motion: reduce){
  *{transition:none !important; animation:none !important}
}

/* Parallax / split-title effect inspired by portfolio sites */
.hero{position:relative}
.split-title{
  position:relative; display:inline-block; line-height:1; overflow:visible; cursor:default; font-size:2.6rem; font-weight:800; letter-spacing:-0.02em; text-align:center;
}
.split-title .layer{
  display:block; transform-origin:center; transition:transform .18s ease-out; color:var(--text);
}
.split-title .layer.top{display:block}
.split-title .layer.bottom{position:absolute; left:0; top:0; opacity:0.85; transform:translateY(6px); color:var(--muted)}

/* gentle idle float for life */
.split-title{animation: floaty 6s ease-in-out infinite}
@keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-4px)}100%{transform:translateY(0)}}

/* subtle decorative underline */
.split-underline{height:2px; width:60%; background:#111; margin-top:10px; border-radius:2px; opacity:0.08}

/* Tagline animation — subtle, elegant, and restrained */
.tagline{
  display:inline-block;
  text-align:center;
  margin-top:10px;
  color:var(--muted);
  font-size:1rem;
  padding:6px 10px;
  border-radius:6px;
  will-change: transform, opacity, letter-spacing;
  animation: taglineFloat 6s cubic-bezier(.2,.8,.2,1) infinite;
  text-shadow: 0 0 18px rgba(255,255,255,0.02);
  opacity:0.96;
}

@keyframes taglineFloat{
  0%{ transform: translateY(0) scale(1); opacity:0.96; letter-spacing:0.02em }
  40%{ transform: translateY(-6px) scale(1.02); opacity:1; letter-spacing:0.07em }
  100%{ transform: translateY(0) scale(1); opacity:0.96; letter-spacing:0.02em }
}

/* small hover lift for pointer devices */
.tagline:hover{ transform: translateY(-3px) scale(1.02); }

@media (prefers-reduced-motion: reduce){
  .tagline, .split-title{ animation: none !important; transition: none !important }
}

/* Flash effect for archive insertion: brief glow/outline to link sound event with the tagline */
.tagline.flash{
  animation: taglineFlash 480ms cubic-bezier(.2,.9,.3,1) forwards;
}
@keyframes taglineFlash{
  0%{ box-shadow: 0 0 0 0 rgba(255,255,255,0); transform: translateY(0) scale(1); opacity:1 }
  30%{ box-shadow: 0 0 18px 8px rgba(255,255,255,0.14); transform: translateY(-3px) scale(1.04); opacity:1 }
  100%{ box-shadow: 0 0 0 0 rgba(255,255,255,0); transform: translateY(0) scale(1); opacity:1 }
}

@media (prefers-reduced-motion: reduce){
  .tagline.flash{ animation: none !important }
}
